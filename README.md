

## ThinkPHP 5.0 简易商城系统 ThinkPHP5Mall

> [查看在线演示](http://open.gaoxueya.com)  


### 安装方式：

1.配置数据库:修改数据库配置文件application\database.php里的数据库账号密码等

2.导入sql示例：导入根目录下的t996.sql文件

===============

## 设置mysql账号密码的存在.env里
+ Mysql账号+密码 

## 最新更新总结
+ 完成了文件从svn到git的对接
+ 建立了新版本v10.00版
+ 增加服务器webhook钩子，通过webhook自动同步更新代码，替掉FTP方式
有疑问欢迎加我微信 18210787405  qq 250285636  一起沟通学习


# 记录昨晚折腾到现在的短信api接口异常处理

短信发送接口升级后，本来换了一个url换一下就好了。
结果折腾了10个十小时左右。
大半夜的死活找不到问题真是心里憔悴

问题找到了，原来我数据库里存的短信发送的密码，在存储的时候用的一个数据库软件里面加了一个回车符号。
导致的异常问题。  

这个异常报错很普通。

而且这个数据库软件能够存储的字段的时候加上回车符也是特殊。

在直接dump的时候看不到回车符。

手动访问也是可以

但是有一点 dump出来的字符串长度是多一位。

## 崩溃的方面

我本地首先测试一直可以，所以怀疑是服务器环境问题

其实是因为我本地哪个字段里没有哪个回车

我服务器上换了3个服务器环境，重新配置了3遍网站，结果还是不行。

然后我又换了一个服务器，用的linux和宝塔。

我当时开心了一会儿，折腾完配置，却仍然不行。崩溃，
当时正好半夜，真真的要崩溃

睡觉。。
 第二天起来，再测试，无果。
 
 中间尝试把 file_get_contents函数也不行
 
 咨询短信商技术支持，对方非常肯定他们接口没有问题，我也确定
 
 帮忙分析 可能是环境问题，分析是否是thinkphp问题
 
 接着，我直接用弃用thinkphp运行短信代码示例，显示可以了
 
 奔溃结束
 
 ## 收获
 
 第一 当然是 再一次遇到接口处理经验和信息更丰富了
 感觉被虐了一顿，增加了一些抗体
 
 第二 发现高一点php本部，验证码显示在右上角 。好一点
 
 第三 感觉还是linux高效靠谱一点，特别是各种疑难问题。
 
 